


<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>kineticstoolkit.cycles module &mdash; Kinetics Toolkit (dev) master documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="kineticstoolkit.dbinterface module" href="kineticstoolkit.dbinterface.html" />
    <link rel="prev" title="kineticstoolkit.config module" href="kineticstoolkit.config.html" />


 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: black" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo_development.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">GETTING STARTED</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../what_is_kinetics_toolkit.html">What is Kinetics Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../conventions.html">Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timeseries.html">TimeSeries</a></li>
</ul>
<p class="caption"><span class="caption-text">TUTORIALS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../loadsave.html">Saving and loading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../filters/filters.html">Filtering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cycles.html">Detecting and normalizing cycles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../geometry/geometry.html">Rigid body geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kinematics/kinematics.html">Kinematics analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pushrimkinetics.html">Wheelchair kinetics</a></li>
</ul>
<p class="caption"><span class="caption-text">IN DEPTH</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../lab_mode.html">Lab mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api_reference.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api_reference.html#classes">Classes</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../api_reference.html#modules">Modules</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="modules.html">kineticstoolkit</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="kineticstoolkit.html">kineticstoolkit package</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://felixchenier.uqam.ca/ktk_develop">Development website</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/felixchenier/kineticstoolkit">GitHub</a></li>
</ul>
<p class="caption"><span class="caption-text">FOR DEVELOPERS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/install.html">Installing from git-hub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/conventions.html">Conventions, testing and releasing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/tutorials.html">Tutorials for unreleased features</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Kinetics Toolkit (dev)</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../api_reference.html">API Reference</a> &raquo;</li>
        
          <li><a href="modules.html">kineticstoolkit</a> &raquo;</li>
        
          <li><a href="kineticstoolkit.html">kineticstoolkit package</a> &raquo;</li>
        
      <li>kineticstoolkit.cycles module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="kineticstoolkit.dbinterface.html" class="btn btn-neutral float-right" title="kineticstoolkit.dbinterface module" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
      
      
        <a href="kineticstoolkit.config.html" class="btn btn-neutral float-left" title="kineticstoolkit.config module" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-kineticstoolkit.cycles">
<span id="kineticstoolkit-cycles-module"></span><h1>kineticstoolkit.cycles module<a class="headerlink" href="#module-kineticstoolkit.cycles" title="Permalink to this headline">¶</a></h1>
<p>Identify cycles and time-normalize data.</p>
<p><strong>Functions</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#kineticstoolkit.cycles.detect_cycles" title="kineticstoolkit.cycles.detect_cycles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">detect_cycles</span></code></a>(ts, data_key, /, event_name1, …)</p></td>
<td><p>Detect cycles in a TimeSeries based on a dual threshold approach.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#kineticstoolkit.cycles.most_repeatable_cycles" title="kineticstoolkit.cycles.most_repeatable_cycles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">most_repeatable_cycles</span></code></a>(data, /)</p></td>
<td><p>Get the indexes of the most repeatable cycles in TimeSeries or array.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#kineticstoolkit.cycles.stack" title="kineticstoolkit.cycles.stack"><code class="xref py py-obj docutils literal notranslate"><span class="pre">stack</span></code></a>(ts, /[, n_points])</p></td>
<td><p>Stack time-normalized TimeSeries’ data into a dict of arrays.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#kineticstoolkit.cycles.time_normalize" title="kineticstoolkit.cycles.time_normalize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time_normalize</span></code></a>(ts, /, event_name1, …[, …])</p></td>
<td><p>Time-normalize cycles in a TimeSeries.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#kineticstoolkit.cycles.unstack" title="kineticstoolkit.cycles.unstack"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unstack</span></code></a>(data, /)</p></td>
<td><p>Unstack time-normalized data from a dict of arrays to a TimeSeries.</p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt id="kineticstoolkit.cycles.detect_cycles">
<code class="sig-prename descclassname">kineticstoolkit.cycles.</code><code class="sig-name descname">detect_cycles</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ts</span></em>, <em class="sig-param"><span class="n">data_key</span></em>, <em class="sig-param"><span class="o">/</span></em>, <em class="sig-param"><span class="n">event_name1</span></em>, <em class="sig-param"><span class="n">event_name2</span></em>, <em class="sig-param"><span class="n">threshold1</span></em>, <em class="sig-param"><span class="n">threshold2</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">direction1</span><span class="o">=</span><span class="default_value">'rising'</span></em>, <em class="sig-param"><span class="n">min_duration1</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">min_duration2</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">max_duration1</span><span class="o">=</span><span class="default_value">inf</span></em>, <em class="sig-param"><span class="n">max_duration2</span><span class="o">=</span><span class="default_value">inf</span></em>, <em class="sig-param"><span class="n">min_peak_height1</span><span class="o">=</span><span class="default_value">- inf</span></em>, <em class="sig-param"><span class="n">min_peak_height2</span><span class="o">=</span><span class="default_value">- inf</span></em>, <em class="sig-param"><span class="n">max_peak_height1</span><span class="o">=</span><span class="default_value">inf</span></em>, <em class="sig-param"><span class="n">max_peak_height2</span><span class="o">=</span><span class="default_value">inf</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kineticstoolkit.cycles.detect_cycles" title="Permalink to this definition">¶</a></dt>
<dd><p>Detect cycles in a TimeSeries based on a dual threshold approach.</p>
<p>This function detects biphasic cycles and identifies the transitions as
new events in the output TimeSeries. These new events are named:</p>
<ul class="simple">
<li><p><cite>event_name1</cite>:
corresponds to the start of phase 1</p></li>
<li><p><cite>event_name2</cite>:
corresponds to the start of phase 2</p></li>
<li><p>‘_’:
corresponds to the end of the cycle.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ts</strong> (<a class="reference internal" href="kineticstoolkit.timeseries.html#kineticstoolkit.timeseries.TimeSeries" title="kineticstoolkit.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>) – TimeSeries to analyze.</p></li>
<li><p><strong>data_key</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Name of the data key to analyze in the TimeSeries. This signal must be
high during phase 1, and low during phase 2. For example, one could
use the absolute ground reaction force to detect stance (phase 1) and
swing (phase 2).</p></li>
<li><p><strong>event_name1</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Name of the events in the output TimeSeries that corresponds to the
start of phase 1.</p></li>
<li><p><strong>event_name2</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Name of the events in the output TimeSeries that corresponds to the
start of phase 2.</p></li>
<li><p><strong>threshold1</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – Value to cross to register the start of phase 1 and phase 2.</p></li>
<li><p><strong>threshold2</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – Value to cross to register the start of phase 1 and phase 2.</p></li>
<li><p><strong>direction1</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Optional. ‘rising’ to cross threshold1 upward, ‘falling’ to cross
threshold1 downward.</p></li>
<li><p><strong>min_duration1</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – Optional. Minimal duration of phase 1 and phase 2 in seconds.</p></li>
<li><p><strong>min_duration2</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – Optional. Minimal duration of phase 1 and phase 2 in seconds.</p></li>
<li><p><strong>max_duration1</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – Optional. Maximal duration of phase 1 and phase 2 in seconds.</p></li>
<li><p><strong>max_duration2</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – Optional. Maximal duration of phase 1 and phase 2 in seconds.</p></li>
<li><p><strong>min_peak_height1</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – Optional. Minimum peak value for phase 1 and phase 2.</p></li>
<li><p><strong>min_peak_height2</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – Optional. Minimum peak value for phase 1 and phase 2.</p></li>
<li><p><strong>max_peak_height1</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – Optional. Maximal peak value for phase 1 and phase 2.</p></li>
<li><p><strong>max_peak_height2</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – Optional. Maximal peak value for phase 1 and phase 2.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A copy of ts with the events added.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="kineticstoolkit.timeseries.html#kineticstoolkit.timeseries.TimeSeries" title="kineticstoolkit.timeseries.TimeSeries">TimeSeries</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using min_peak_height1, min_peak_height1, max_peak_height1 and
max_peak_height2:</p>
<ul class="simple">
<li><p>If direction1 is ‘rising’, then the peak value is the maximum during
phase 1 and the minimum during phase 2.</p></li>
<li><p>If direction1 is ‘falling’, then the peak value is the minimum
during phase 1 and the maximum during phase 2.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt id="kineticstoolkit.cycles.most_repeatable_cycles">
<code class="sig-prename descclassname">kineticstoolkit.cycles.</code><code class="sig-name descname">most_repeatable_cycles</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="o">/</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kineticstoolkit.cycles.most_repeatable_cycles" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the indexes of the most repeatable cycles in TimeSeries or array.</p>
<p>This function returns an ordered list of the most repeatable to the least
repeatable cycles.</p>
<p>It works by recursively discarding the cycle than maximizes the
root-mean-square error between the cycle and the average of every
remaining cycle, until there are only two cycles remaining. The function
returns a list that is the reverse order of cycle removal: first the two
last cycles, then the last-removed cycle, and so on. If two cycles are as
equivalently repeatable, they are returned in order of appearance.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Cycles that include at least one NaN are excluded.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>) – Stacked time-normalized data to analyze, in the shape
(n_cycles, n_points).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of indexes corresponding to the cycles in most to least
repeatable order.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[int]</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">kineticstoolkit.lab</span> <span class="k">as</span> <span class="nn">ktk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a data sample with four different cycles, the most different</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># begin cycle 2 (cos instead of sin), then cycle 0.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)],</span>         <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.14</span><span class="p">],</span>         <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.14</span><span class="p">],</span>         <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.15</span><span class="p">]])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ktk</span><span class="o">.</span><span class="n">cycles</span><span class="o">.</span><span class="n">most_repeatable_cycles</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="go">[1, 3, 0, 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="kineticstoolkit.cycles.stack">
<code class="sig-prename descclassname">kineticstoolkit.cycles.</code><code class="sig-name descname">stack</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ts</span></em>, <em class="sig-param"><span class="o">/</span></em>, <em class="sig-param"><span class="n">n_points</span><span class="o">=</span><span class="default_value">100</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kineticstoolkit.cycles.stack" title="Permalink to this definition">¶</a></dt>
<dd><p>Stack time-normalized TimeSeries’ data into a dict of arrays.</p>
<p>This methods returns the data of a time-normalized TimeSeries as a dict
where each key corresponds to a TimeSeries’ data, and contains a numpy
array where the first dimension is the cycle, the second dimension is the
percentage of cycle, and the other dimensions are the data itself.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ts</strong> (<a class="reference internal" href="kineticstoolkit.timeseries.html#kineticstoolkit.timeseries.TimeSeries" title="kineticstoolkit.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>) – The time-normalized TimeSeries.</p></li>
<li><p><strong>n_points</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Optional. The number of points the TimeSeries has been time-normalized
on.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict[str, np.ndarray]</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ktk.cycles.unstack</span></code></p>
</div>
</dd></dl>

<dl class="py function">
<dt id="kineticstoolkit.cycles.time_normalize">
<code class="sig-prename descclassname">kineticstoolkit.cycles.</code><code class="sig-name descname">time_normalize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ts</span></em>, <em class="sig-param"><span class="o">/</span></em>, <em class="sig-param"><span class="n">event_name1</span></em>, <em class="sig-param"><span class="n">event_name2</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">n_points</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">span</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kineticstoolkit.cycles.time_normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Time-normalize cycles in a TimeSeries.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Experimental function.</p>
<p>This function’s signature and default behaviour are not completely settled
and may change slightly in the future.</p>
</div>
<p>This method time-normalizes the TimeSeries at each cycle defined by
event_name1 and event_name2 on n_points. The time-normalized cycles are
put end to end. For example, for a TimeSeries that contains three
cycles, a time normalization with 100 points will give a TimeSeries
of length 300. The TimeSeries’ events are also time-normalized, including
event_name1 but with event_name2 renamed as ‘_’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ts</strong> (<a class="reference internal" href="kineticstoolkit.timeseries.html#kineticstoolkit.timeseries.TimeSeries" title="kineticstoolkit.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>) – The TimeSeries to analyze.</p></li>
<li><p><strong>event_name1</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The event name that correspond to the begin of a cycle.</p></li>
<li><p><strong>event_name2</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The event name that correspond to the end of a cycle.</p></li>
<li><p><strong>n_points</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Optional. The number of points of the output TimeSeries.</p></li>
<li><p><strong>span</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]]) – Optional. Specifies which normalized points to include in the output
TimeSeries. See note below.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new TimeSeries where each cycle has been time-normalized.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="kineticstoolkit.timeseries.html#kineticstoolkit.timeseries.TimeSeries" title="kineticstoolkit.timeseries.TimeSeries">TimeSeries</a></p>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>The span argument is experimental. Use it to define which normalized
points to include in the output TimeSeries. For example, to normalize in
percents and to include only data from 10 to 90% of each cycle, assign
100 to n_points and [10, 90] to span. The resulting TimeSeries will then
be expressed in percents and wrap each 80 points. It is also possible to
include pre-cycle or post-cycle data. For example, to normalize in
percents and to include 20% pre-cycle and 15% post-cycle, assign 100 to
n_points and [-20, 15] to span. The resulting TimeSeries will then wrap
each 135 points with the cycles starting at 20, 155, etc. and ending at
119, 254, etc. For each cycle, events outside the 0-100% spans are ignored.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="kineticstoolkit.cycles.unstack">
<code class="sig-prename descclassname">kineticstoolkit.cycles.</code><code class="sig-name descname">unstack</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="o">/</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kineticstoolkit.cycles.unstack" title="Permalink to this definition">¶</a></dt>
<dd><p>Unstack time-normalized data from a dict of arrays to a TimeSeries.</p>
<p>This methods creates a time-normalized TimeSeries by putting each cycle
from the provided data dictionary end to end.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]) – A dict where each key contains a numpy array where the first dimension
is the cycle, the second dimension is the percentage of cycle, and
the other dimensions are the data itself.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="kineticstoolkit.timeseries.html#kineticstoolkit.timeseries.TimeSeries" title="kineticstoolkit.timeseries.TimeSeries">TimeSeries</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ktk.cycles.stack</span></code></p>
</div>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="kineticstoolkit.dbinterface.html" class="btn btn-neutral float-right" title="kineticstoolkit.dbinterface module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="kineticstoolkit.config.html" class="btn btn-neutral float-left" title="kineticstoolkit.config module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020-2021, Félix Chénier.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>